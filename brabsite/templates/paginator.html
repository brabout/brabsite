<div class="pager">
    {% spaceless %}
        {% if has_previous %}
            <li class="pager_li"><a href="{% if get_params %}?{{ get_params }}&{% else %}?{% endif %}page={{ previous }}">&laquo; Prev</a></li>
        {% endif %}
        {% if not in_leading_range %}
            {% for p in pages_outside_trailing_range %}
                <li class="pager_li"><a href="{% if get_params %}?{{ get_params }}&{% else %}?{% endif %}page={{ p }}">{{ p }}</a></li>
            {% endfor %}
            <li class="pager_li"><span class="ellipsis">...</span></li>
        {% endif %}
        {% for p in page_range %}
            {% if p == page %}
                <li class="pager_li"><span class="current">{{ p }}</span></li>
            {% else %}
                <li class="pager_li"><a href="{% if get_params %}?{{ get_params }}&{% else %}?{% endif %}page={{ p }}">{{ p }}</a></li>
            {% endif %}
        {% endfor %}
        {% if not in_trailing_range %}
            <li class="pager_li"><span class="ellipsis">...</span></li>
            {% for p in pages_outside_leading_range reversed %}
                <li class="pager_li"><a href="{% if get_params %}?{{ get_params }}&{% else %}?{% endif %}page={{ p }}">{{ p }}</a></li>
            {% endfor %}
        {% endif %}
        {% if has_next %}
            <li class="pager_li"><a href="{% if get_params %}?{{ get_params }}&{% else %}?{% endif %}page={{ next }}">Next &raquo;</a></li>
        {% endif %}
    {% endspaceless %}
</div>
